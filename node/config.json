{
    "name"    : "qx-softmotions-node",
    "include" :
            [
                {
                    "path" : "${QOOXDOO_PATH}/tool/data/config/application.json"
                }
            ],

    "let" :
    {
        "APPLICATION"  : "qx-softmotions-node",
        "QOOXDOO_PATH" : "@@QOOXDOO_PATH@@",
        "API_EXCLUDE"  : ["qx.legacy.*","qx.test.*"],
        "LOCALES"      : [ "en" ],
        "CACHE"        : "${TMPDIR}/qxserver${QOOXDOO_VERSION}/cache"
    },

    "jobs":
    {

        "qx-softmotions-base" :
        {
            "cache" : { "compile" : "${CACHE}" },

            "library" :
                    [
                        {
                            "manifest" : "./Manifest.json",
                            "uri" : "./"
                        },

                        {
                            "manifest" : "${QOOXDOO_PATH}/framework/Manifest.json",
                            "uri" : "${QOOXDOO_PATH}/framework"
                        }
                    ],

            "exclude" :
                    [
                        "qx.core.Init"
                    ],

            "include" :
                    [
                        "qx.Class",
                        "qx.Mixin",
                        "qx.Interface",
                        "qx.core.*",

                        "sm.lang.*",
                        "sm.log.*",
                        "sm.app.*",
                        "sm.nsrv.*",
                        "sm.test.*"
                    ],

            "variants" :
            {
                "qx.debug" : ["on"],
                "qx.aspects" : ["off"]
            },

            "settings" :
            {
                "qx.globalErrorHandling" : "off"
            },

            "compile" : { "type" : "build" },

            "compile-options" :
            {
                "paths" :
                {
                    "loader-template" : "@@SRC_ROOT@@/../data/qxoo.loader.tmpl.txt",
                    "file" : "output/script/qx-softmotions.js"
                },
                "uris" :
                {
                    "script"   : ".",
                    "resource" : "."
                },
                "code" :
                {
                    "format"   : true,
                    "=optimize" : [],
                    "node_includes" : true
                }
            }
        },

        "nkserver" :
        {
            "extend" : [ "qx-softmotions-base" ],
            "desc" : "NKServer",

            "include" :
                    [
                        "sm.nsrv.*"
                    ],

            "variants" :
            {
                "sm.nsrv.debug" : ["on"],
                "sm.nsrv.access-control-allow" : ["on"]
            },

            "compile-options" :
            {
                "paths" :
                {
                    "file" : "@@OUTPUT_DIR@@/nkserver-qxoo.js"
                }
            }
        }
    }
}